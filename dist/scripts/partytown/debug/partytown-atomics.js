(e=>{const Q=e=>"object"==typeof e&&e&&e.then,J=()=>{},i=e=>e.length,c=e=>{var t,n,s;try{const n=null===(t=e?.constructor)||void 0===t?void 0:t.name;if(n)return n}catch{}try{const t=null===(s=null===(n=e?.__zone_symbol__originalInstance)||void 0===n?void 0:n.constructor)||void 0===s?void 0:s.name;if(t)return t}catch{}return""},r=(e,t)=>e.startsWith(t),E=e=>!(r(e,"webkit")||r(e,"toJSON")||r(e,"constructor")||r(e,"toString")||r(e,"_")),L=e=>11===e.nodeType&&e.host?"#s":e.nodeName,D=()=>Math.round(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),Y=(e,t)=>((e,t,n)=>Object.defineProperty(e,t,{...n,configurable:!0}))(e,"name",{value:t}),H={Anchor:"a",DList:"dl",Image:"img",OList:"ol",Paragraph:"p",Quote:"q",TableCaption:"caption",TableCell:"td",TableCol:"colgroup",TableRow:"tr",TableSection:"tbody",UList:"ul"},X={Graphics:"g",SVG:"svg"},k=Symbol(),_=Symbol(),d=new Map,O=new Map,n={},h=new WeakMap,u=(e,t)=>{if(e)return(t=h.get(e))||((t=e[k])||y(e,t=D()),t)},w=(e,t,s,o,i)=>{if((s=n[e])&&s.$window$){if(e===t)return s.$window$;if(o=s.$window$.document,i=t.split(".").pop(),"d"===i)return o;if("e"===i)return o.documentElement;if("h"===i)return o.head;if("b"===i)return o.body}return d.get(t)},y=(e,t,n)=>{e&&(d.set(t,e),e[k]=t,e[_]=n=Date.now(),n>j+5e3&&(d.forEach((e,t)=>{e[_]<j&&e.nodeType&&!e.isConnected&&d.delete(t)}),j=n))};let j=0;const t=e.parent,s=document.implementation.createHTMLDocument(),x=t.partytown||{},C=(x.lib||"/~partytown/")+"debug/",f=e=>{console.debug.apply(console,["%cMain ðŸŒŽ","background: #717171; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;",e])},p=[],g=e=>(p.includes(e)||p.push(e),p.indexOf(e)+1),G=(e,t,s)=>{const o=Y(class extends n[e].$window$.HTMLElement{},s[0]),i="connectedCallback,disconnectedCallback,attributeChangedCallback,adoptedCallback".split(",");return i.map(n=>o.prototype[n]=function(...s){t.postMessage([15,e,u(this),n,s])}),o.observedAttributes=s[1],o},a=(e,t,n,s,o)=>void 0!==t&&(s=typeof t)?"string"===s||"number"===s||"boolean"===s||t==null?[0,t]:"function"===s?[6]:(n=n||new Set)&&Array.isArray(t)?n.has(t)?[1,[]]:n.add(t)&&[1,t.map(t=>a(e,t,n))]:"object"===s?q(t)?[14,{name:t.name,message:t.message,stack:t.stack}]:""===(o=c(t))?[2,{}]:"Window"===o?[3,[e,e]]:"HTMLCollection"===o||"NodeList"===o?[7,Array.from(t).map(t=>a(e,t,n)[1])]:o.endsWith("Event")?[5,v(e,t,n)]:"CSSRuleList"===o?[12,Array.from(t).map(T)]:r(o,"CSS")&&o.endsWith("Rule")?[11,T(t)]:"CSSStyleDeclaration"===o?[13,v(e,t,n)]:"Attr"===o?[10,[t.name,t.value]]:t.nodeType?[3,[e,u(t),L(t)]]:[2,v(e,t,n,!0,!0)]:void 0:t,v=(e,t,n,s,o,i,r,c)=>{if(i={},!n.has(t)){n.add(t);for(r in t)E(r)&&(c="path"===r&&t instanceof Event?t.composedPath():t[r],(s||"function"!=typeof c)&&(o||""!==c)&&(i[r]=a(e,c,n)))}return i},T=e=>{let n={},t;for(t in e)B.includes(t)&&(n[t]=String(e[t]));return n},q=t=>t instanceof e.top.Error,l=(t,n,s,o)=>{if(n)return s=n[0],o=n[1],0===s?o:4===s?K(t,o):1===s?o.map(e=>l(t,e)):3===s?w(o[0],o[1]):5===s?V(R(t,o)):2===s?R(t,o):8===s?o:9===s?new e[n[2]](o):void 0},K=(e,{$winId$:t,$instanceId$:n,$refId$:s},o)=>(o=O.get(s),o||(o=function(...o){e.postMessage([9,{$winId$:t,$instanceId$:n,$refId$:s,$thisArg$:a(t,this),$args$:a(t,o)}])},O.set(s,o)),o),V=e=>new("detail"in e?CustomEvent:Event)(e.type,e),R=(e,t,n,s)=>{n={};for(s in t)n[s]=l(e,t[s]);return n},B="cssText,selectorText,href,media,namespaceURI,prefix,name,conditionText".split(","),M=async(e,t)=>{let c={$msgId$:t.$msgId$},f=i(t.$tasks$),h=0,s,o,d,m,r,u;for(;h<f;h++)try{u=h===f-1,s=t.$tasks$[h],o=s.$winId$,d=s.$applyPath$,!n[o]&&o.startsWith("f_")&&await new Promise(e=>{let s=0,t=()=>{n[o]||s++>1e3?e():requestAnimationFrame(t)};t()}),1===d[0]&&d[1]in n[o].$window$?y(new n[o].$window$[d[1]](...l(e,d[2])),s.$instanceId$):(m=w(o,s.$instanceId$),m?(r=I(e,o,m,d,u,s.$groupedGetters$),s.$assignInstanceId$&&("string"==typeof s.$assignInstanceId$?y(r,s.$assignInstanceId$):n[s.$assignInstanceId$.$winId$]={$winId$:s.$assignInstanceId$.$winId$,$window$:{document:r}}),Q(r)&&(r=await r,u&&(c.$isPromise$=!0)),u&&(c.$rtnValue$=a(o,r))):(c.$error$=`Error finding instance "${s.$instanceId$}" on window ${g(o)}`,console.error(c.$error$,s)))}catch(e){u?c.$error$=String(e.stack||e):console.error(e)}return c},I=(e,t,n,s,o,a)=>{let d=0,p=i(s),m,u,r,h,f;for(;d<p;d++){u=s[d],m=s[d+1],r=s[d-1];try{if(!Array.isArray(m))if("string"==typeof u||"number"==typeof u){if(d+1===p&&a)return f={},a.map(e=>f[e]=n[e]),f;n=n[u]}else{if(0===m){n[r]=l(e,u);return}if("function"==typeof n[r]&&(h=l(e,u),"define"===r&&"CustomElementRegistry"===c(n)&&(h[1]=G(t,e,h[1])),"insertRule"===r&&h[1]>i(n.cssRules)&&(h[1]=i(n.cssRules)),n=n[r].apply(n,h),"play"===r))return Promise.resolve()}}catch(e){if(o)throw e;console.debug("Non-blocking setter error:",e)}}return n},P=(e,t,s)=>{if(!h.has(s)){h.set(s,t);const o=s.document,i=s.history,r=h.get(s.parent),c=()=>e.postMessage([5,{$winId$:t,$parentWinId$:r,$url$:o.baseURI,$visibilityState$:o.visibilityState}]),l=i.pushState.bind(i),d=i.replaceState.bind(i),a=(n,s,i,a)=>{setTimeout(()=>{e.postMessage([13,{$winId$:t,type:n,state:s,url:o.baseURI,newUrl:i,oldUrl:a}])})};i.pushState=(e,t,n)=>{l(e,t,n),a(0,e,n?.toString())},i.replaceState=(e,t,n)=>{d(e,t,n),a(1,e,n?.toString())},s.addEventListener("popstate",e=>{a(2,e.state)}),s.addEventListener("hashchange",e=>{a(3,{},e.newURL,e.oldURL)}),o.addEventListener("visibilitychange",()=>e.postMessage([14,t,o.visibilityState])),n[t]={$winId$:t,$window$:s},n[t].$startTime$=performance.now();{const e=t===r?"top":"iframe";f(`Registered ${e} window ${g(t)}`)}"complete"===o.readyState?c():s.addEventListener("load",c)}},b=(e,t)=>{let s=t.$winId$,c=t.$window$,o=c.document,d='script[type="text/partytown"]:not([data-ptid]):not([data-pterror])',n,l,r;if(o&&o.body)if(n=o.querySelector('script[type="text/partytown"]:not([data-ptid]):not([data-pterror]):not([async]):not([defer])'),n||(n=o.querySelector(d)),n)n.dataset.ptid=l=u(n,s),r={$winId$:s,$instanceId$:l},n.src?(r.$url$=n.src,r.$orgUrl$=n.dataset.ptsrc||n.src):r.$content$=n.innerHTML,e.postMessage([7,r]);else{if(!t.$isInitialized$){t.$isInitialized$=1,((e,t,n)=>{let o=n._ptf,l=(n.partytown||{}).forward||[],s,r,c=(n,s)=>e.postMessage([10,{$winId$:t,$forward$:n,$args$:a(t,Array.from(s))}]);if(n._ptf=void 0,l.map(e=>{r=n,e.split(".").map((e,t,n)=>{r=r[n[t]]=t+1<i(n)?r[n[t]]||("push"===n[t+1]?[]:{}):(...e)=>c(n,e)})}),o)for(s=0;s<i(o);s+=2)c(o[s],o[s+1])})(e,s,c),o.dispatchEvent(new CustomEvent("pt0"));{const e=c===c.top?"top":"iframe";f(`Executed ${e} window ${g(s)} environment scripts in ${(performance.now()-t.$startTime$).toFixed(1)}ms`)}}e.postMessage([8,s])}else requestAnimationFrame(()=>b(e,t))},$=(e,s,o)=>{4===s[0]?P(e,D(),t):(o=n[s[1]],o&&(7===s[0]?requestAnimationFrame(()=>b(e,o)):6===s[0]&&((e,t,n,s,o)=>{o=t.$window$.document.querySelector(`[data-ptid="${n}"]`),o&&(s?o.dataset.pterror=s:o.type+="-x",delete o.dataset.ptid),b(e,t)})(e,o,s[2],s[3])))},W=()=>{const e=Object.getOwnPropertyNames(t).map(e=>((e,t,n,s)=>{if(n=t.match(/^(HTML|SVG)(.+)Element$/),n)return s=n[2],"S"==t[0]?e.createElementNS("http://www.w3.org/2000/svg",X[s]||s.slice(0,2).toLowerCase()+s.slice(2)):e.createElement(H[s]||s)})(s,e)).filter(e=>e).map(e=>[e]);return N(e,[])},U=new Set(["Object"]),N=(e,n)=>{const s=e.filter(e=>e[0]).map(e=>{const n=e[0],o=e[1],s=c(n),i=t[s].prototype;return[s,i,n,o]});return s.map(([e,t,s,o])=>F(U,n,e,t,s,o)),n},z=(e,t,n)=>{let s=[],o=[e,"Object",s];for(n in t)S(s,t,n);return o},F=(e,t,n,s,o,i)=>{if(!e.has(n)){e.add(n);const a=Object.getPrototypeOf(s),r=c(a),l=[],d=Object.getOwnPropertyDescriptors(s);F(e,t,r,a,o,i);for(const e in d)S(l,o,e);t.push([n,r,l,i,L(o)])}},S=(e,t,n,s,o,i)=>{try{E(n)&&isNaN(n[0])&&"all"!==n&&(s=t[n],o=typeof s,"function"===o?(String(s).includes("[native")||Object.getPrototypeOf(t)[n])&&e.push([n,5]):"object"===o&&s!=null?(i=c(s),"Object"!==i&&self[i]&&e.push([n,s.nodeType||i])):"symbol"!==o&&(n.toUpperCase()===n?e.push([n,6,s]):e.push([n,6])))}catch(e){console.warn(e)}},A=e=>{let o=[],n=0,a=i(t[e]),s;for(;n<a;n++)s=t[e].key(n),o.push([s,t[e].getItem(s)]);return o},m=(e,t)=>void 0!==e[t]?new e[t](J):0,Z=(e,t,n)=>{void 0!==t[n]&&e.push([n,"Object",Object.keys(t[n].prototype).map(e=>[e,6]),12])};let o;(async e=>{const o=new SharedArrayBuffer(1073741824),n=new Int32Array(o);return(i,a)=>{const r=a[0],c=a[1];if(0===r){const e=(()=>{const e=s.createElement("i"),o=s.createTextNode(""),g=s.createComment(""),r=s.createDocumentFragment(),u=s.createElement("p").attachShadow({mode:"open"}),d=m(t,"IntersectionObserver"),c=m(t,"MutationObserver"),l=m(t,"ResizeObserver"),n=t.performance,a=t.screen,h=[[t.history],[n],[n.navigation],[n.timing],[a],[a.orientation],[t.visualViewport],[d,12],[c,12],[l,12],[o],[g],[r],[u],[e],[e.attributes],[e.classList],[e.dataset],[e.style],[s],[s.doctype]],f=[z("Window",t),z("Node",o)],p=JSON.stringify(x,(e,t)=>("function"==typeof t&&(t=String(t),t.startsWith(e+"(")&&(t="function "+t)),t)),i={$config$:p,$interfaces$:N(h,f),$libPath$:new URL(C,t.location)+"",$origin$:origin,$localStorage$:A("localStorage"),$sessionStorage$:A("sessionStorage")};return Z(i.$interfaces$,t,"IntersectionObserverEntry"),i})();e.$sharedDataBuffer$=o,i.postMessage([1,e])}else 2===a[0]?i.postMessage([3,W()]):11===r?e(c,e=>{const t=JSON.stringify(e),s=t.length;for(let e=0;e<s;e++)n[e+1]=t.charCodeAt(e);n[0]=s,Atomics.notify(n,0)}):$(i,a)}})((e,t)=>M(o,e).then(t)).then(e=>{e&&(o=new Worker(C+"partytown-ww-atomics.js?v=0.7.1",{name:"Partytown ðŸŽ‰"}),o.onmessage=t=>{const n=t.data;12===n[0]?M(o,n[1]):e(o,n)},f("Created Partytown web worker (0.7.1)"),o.onerror=e=>console.error("Web Worker Error",e),t.addEventListener("pt1",e=>P(o,u(e.detail.frameElement),e.detail)))})})(window)