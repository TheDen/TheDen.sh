(e=>{const o=Symbol(),h=Symbol(),i=Symbol(),Ae=Symbol(),y=Symbol(),L=Symbol(),R=Symbol(),je=Symbol(),ge=new Map,x={},q=new WeakMap,H=[],t={},_e=new Map,me=new Map,n={},m=new Map,re=new Map,d=e=>e.split(","),ee=e=>{if(e=t.$libPath$+e,new URL(e).origin!=location.origin)throw"Invalid "+e;return e},ze=d("clientWidth,clientHeight,clientTop,clientLeft,innerWidth,innerHeight,offsetWidth,offsetHeight,offsetTop,offsetLeft,outerWidth,outerHeight,pageXOffset,pageYOffset,scrollWidth,scrollHeight,scrollTop,scrollLeft"),ue=d("childElementCount,children,firstElementChild,lastElementChild,nextElementSibling,previousElementSibling"),st=d("insertBefore,remove,removeChild,replaceChild"),nt=d("className,width,height,hidden,innerHTML,innerText,textContent"),ye=d("setAttribute,setAttributeNS,setProperty"),le=d("addEventListener,dispatchEvent,removeEventListener"),De=le.concat(ye,d("add,observe,remove,unobserve")),tt=/^[A-Z_]([A-Z0-9-]*[A-Z0-9])?$/,C=()=>{},w=e=>e.length,F=e=>{var t,n,s;try{const n=null===(t=e?.constructor)||void 0===t?void 0:t.name;if(n)return n}catch{}try{const t=null===(s=null===(n=e?.__zone_symbol__originalInstance)||void 0===n?void 0:n.constructor)||void 0===s?void 0:s.name;if(t)return t}catch{}return""},Z=[],j=()=>Math.round(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),G=(e,t,n)=>Object.defineProperty(e,t,{...n,configurable:!0}),v=(e,t)=>G(e,"name",{value:t}),E=(e,t,n)=>G(e.prototype,t,n),f=(e,t)=>Object.defineProperties(e.prototype,t),ne=(e,t,n)=>E(e,t,{value:n,writable:!0}),$=(e,t)=>t in e[L],r=(e,t)=>e[L][t],c=(e,t,n)=>e[L][t]=n,Qe=(e,t)=>((t=q.get(e))||(q.set(e,t=j()),x[t]=e),t),g=(e,t,s,o,i)=>(i=ge.get(t),!i&&s&&n[e]&&(i=n[e].$createNode$(s,t,o),ge.set(t,i)),i),te=(e,t)=>ne(e,"nodeType",t),U=(e,t)=>t.map(t=>E(e,t,{get(){let n=B(this,t),e=re.get(n);return e||(e=u(this,[t]),re.set(n,e)),e}})),B=(e,t,n)=>[e[o],e[h],t,...(n||Z).map(e=>String(e&&e[o]?e[h]:e))].join("."),I=(e,t)=>d(t).map(t=>E(e,t,{get(){return $(this,t)||c(this,t,u(this,[t])),r(this,t)},set(e){r(this,t)!==e&&l(this,[t],e),c(this,t,e)}})),Fe=e=>ze.map(t=>E(e,t,{get(){const n=m.get(B(this,t));if("number"==typeof n)return n;const e=u(this,[t],ze);return e&&"object"==typeof e?(Object.entries(e).map(([e,t])=>m.set(B(this,e),t)),e[t]):e}})),Se=(e,t)=>t.map(t=>{e.prototype[t]=function(...n){let o=B(this,t,n),e=m.get(o);return e||(e=s(this,[t],n),m.set(o,e)),e}}),X=(e,t,n,s,i)=>void 0!==n&&(i=typeof n)?"string"===i||"boolean"===i||"number"===i||n==null?[0,n]:"function"===i?[4,{$winId$:e,$instanceId$:t,$refId$:Qe(n)}]:(s=s||new Set)&&Array.isArray(n)?s.has(n)?[1,[]]:s.add(n)&&[1,n.map(n=>X(e,t,n,s))]:"object"===i?n[h]?[3,[n[o],n[h]]]:n instanceof Event?[5,be(e,t,n,!1,s)]:qe&&n instanceof TrustedHTML?[0,n.toString()]:n instanceof ArrayBuffer?[8,n]:ArrayBuffer.isView(n)?[9,n.buffer,F(n)]:[2,be(e,t,n,!0,s)]:void 0:n,qe="undefined"!=typeof TrustedHTML,be=(e,t,n,s,o,i,a,r)=>{if(i={},!o.has(n)){o.add(n);for(a in n)r=n[a],(s||"function"!=typeof r)&&(i[a]=X(e,t,r,o))}return i},J=(e,t)=>e?X(e[o],e[h],t):[0,t],O=(e,t,o,i,a,r,c,l)=>{if(i){if(a=i[0],r=i[1],0===a||11===a||12===a)return r;if(4===a)return Ue(o,r);if(6===a)return e&&o.length>0?(...t)=>s(n[e].$window$,o,t,1):C;if(3===a)return ce(r);if(7===a)return new pe(r.map(ce));if(10===a)return new Be(r);if(1===a)return r.map(n=>O(e,t,o,n));if(14===a)return new Ve(r);c={};for(l in r)c[l]=O(e,t,[...o,l],r[l]);if(13===a)return new n[e].$window$.CSSStyleDeclaration(e,t,o,c);if(5===a){if("message"===c.type&&c.origin){let s=JSON.stringify(c.data),t=H.find(e=>e.$data$===s),e;t&&(e=n[t.$winId$],e&&(c.source=e.$window$,c.origin=e.$location$.origin))}return new Proxy(new Event(c.type,c),{get:(e,t)=>t in c?c[t]:"function"==typeof e[String(t)]?C:e[String(t)]})}if(2===a)return c}},ce=([e,t,s])=>t===e&&n[e]?n[e].$window$:g(e,t,s),Ue=(e,{$winId$:t,$instanceId$:n,$nodeName$:o,$refId$:i})=>(x[i]||q.set(x[i]=function(...i){const a=g(t,n,o);return s(a,e,i)},i),x[i]);class Ve extends Error{constructor(e){super(e.message),this.name=e.name,this.message=e.message,this.stack=e.stack}}class pe{constructor(e){(this._=e).map((e,t)=>this[t]=e)}entries(){return this._.entries()}forEach(e,t){this._.map(e,t)}item(e){return this[e]}keys(){return this._.keys()}get length(){return w(this._)}values(){return this._.values()}[Symbol.iterator](){return this._[Symbol.iterator]()}}const Be=class{constructor(e){this.name=e[0],this.value=e[1]}get nodeName(){return this.name}get nodeType(){return 2}},S=(e,t,n)=>console.warn(`Partytown unable to ${e} cross-origin ${t}: `+n.$location$),a=(n,s)=>{try{const a=t.$config$;if(a.logStackTraces){const e=(new Error).stack.split(`
`),t=e.findIndex(e=>e.includes("logWorker"));n+=`
`+e.slice(t+1).join(`
`)}let o,i;s?(o=`Worker (${k(s)}) ðŸŽ‰`,i=Pe(s)):(o=e.name,i="#9844bf"),t.lastLog!==n&&(t.lastLog=n,console.debug.apply(console,[`%c${o}`,`background: ${i}; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;`,n]))}catch{}},W=[],k=e=>(W.includes(e)||W.push(e),W.indexOf(e)+1),Pe=e=>{const t=["#00309e","#ea3655","#eea727"],n=k(e)-1;return t[n]||t[t.length-1]},T=(e,t)=>{let n="";if(e){e[h];const t=F(e);if("Window"===t)n="";else if("string"==typeof e[i]){let t=e[i];n="#text"===t?"textNode.":"#comment"===t?"commentNode.":"#document"===t?"document.":"html"===t?"doctype.":t.toLowerCase()+"."}else n="nodeType"in e&&2===e.nodeType?"attributes.":"CanvasRenderingContext2D"===t?"context2D.":"CanvasRenderingContextWebGL"===t?"contextWebGL.":"CSSStyleDeclaration"===t?"style.":"MutationObserver"===t?"mutationObserver.":"NamedNodeMap"===t?"namedNodeMap.":"ResizeObserver"===t?"resizeObserver.":t.substring(0,1).toLowerCase()+t.substring(1)+".";e[y]&&e[y].length&&(n+=[...e[y]].join(".")+".")}if(t.length>1){const s=t.slice(0,t.length-1),e=t[t.length-1];if(!isNaN(e))return n+`${s.join(".")}[${e}]`}return n+t.join(".")},_=(e,t)=>{const n=typeof t;if(void 0===t)return"undefined";if("boolean"===n||"number"===n||t==null)return JSON.stringify(t);if("string"===n)return e.includes("cookie")?JSON.stringify(t.slice(0,10)+"..."):JSON.stringify(t.length>50?t.slice(0,40)+"...":t);if(Array.isArray(t))return`[${t.map(_).join(", ")}]`;if("object"===n){const n=t[h],s=F(t);if("string"==typeof n){if("Window"===s)return"window";if("string"==typeof t[i]){if(1===t.nodeType)return`<${t[i].toLowerCase()}>`;if(10===t.nodeType)return`<!DOCTYPE ${t[i]}>`;if(t.nodeType<=11)return t[i]}return"Â¯\\_(ãƒ„)_/Â¯ instance obj"}return t[Symbol.iterator]?`[${Array.from(t).map(t=>_(e,t)).join(", ")}]`:"value"in t?"string"==typeof t.value?`"${t.value}"`:fe(t.value):fe(t)}return(e=>"object"==typeof e&&e&&e.then)(t)?"Promise":"function"===n?`Æ’() ${t.name||""}`.trim():`Â¯\\_(ãƒ„)_/Â¯ ${String(t)}`.trim()},fe=e=>{const t=[];for(let n in e){const s=e[n],o=typeof s;"string"===o?t.push(`${n}: "${s}"`):"function"===o?t.push(`${n}: Æ’`):Array.isArray(o)?t.push(`${n}: [..]`):"object"===o&&s?t.push(`${n}: {..}`):t.push(`${n}: ${String(s)}`)}let n=t.join(", ");return n.length>200&&(n=n.substring(0,200)+".."),`{ ${n} }`},ae=(e,n)=>{(t.$config$.logGetters||t.$config$.logSetters)&&a(`Dimension cache cleared from style.${n} setter`,e[o])},oe=(e,n)=>{(t.$config$.logGetters||t.$config$.logCalls)&&a(`Dimension cache cleared from method call ${n}()`,e[o])},p=[],P=(e,n,s,i,a,r)=>{if(e[y]){if(p.push({$winId$:e[o],$instanceId$:e[h],$applyPath$:[...e[y],...n],$assignInstanceId$:i,$groupedGetters$:a}),p[w(p)-1].$debug$=((e,t,n)=>{let s=T(e,t);return 1===n?s+=" (blocking)":2===n?s+=" (non-blocking)":3===n&&(s+=" (non-blocking, no-side-effect)"),s.trim()})(e,n,s),r&&3!==s&&console.error("buffer must be sent NonBlockingNoSideEffect"),3===s)t.$postMessage$([12,{$msgId$:j(),$tasks$:[...p]}],r?[r instanceof ArrayBuffer?r:r.buffer]:void 0),p.length=0;else if(1===s)return z(!0);t.$asyncMsgTimer$=setTimeout(z,20)}},z=e=>{if(clearTimeout(t.$asyncMsgTimer$),w(p)){t.$config$.logMainAccess&&a(`Main access, tasks sent: ${p.length}`);const n=p[w(p)-1],s={$msgId$:j(),$tasks$:[...p]};if(p.length=0,e){const e=((e,t)=>{const n=new XMLHttpRequest;return n.open("POST",ee("proxytown"),!1),n.send(JSON.stringify(t)),JSON.parse(n.responseText)})(0,s),t=e.$isPromise$,o=O(n.$winId$,n.$instanceId$,n.$applyPath$,e.$rtnValue$);if(e.$error$){if(t)return Promise.reject(e.$error$);throw new Error(e.$error$)}return t?Promise.resolve(o):o}t.$postMessage$([12,s])}},u=(e,n,s,i)=>t.$config$.get&&(i=t.$config$.get(Q(e,n)),i!==R)?i:(i=P(e,n,1,void 0,s),((e,n,s,i=!1,r=!1)=>{if(t.$config$.logGetters)try{const t=`Get ${T(e,n)}, returned: ${_(n,s)}${i?" (restricted to worker)":""}${r?" (grouped getter)":""}`;t.includes("Symbol(")||a(t,e[o])}catch{}})(e,n,i,!1,!!s),i),l=(e,n,s,i)=>{if(t.$config$.set){if(i=t.$config$.set({value:s,prevent:je,...Q(e,n)}),i===je)return;i!==R&&(s=i)}nt.some(e=>n.includes(e))&&(m.clear(),((e,n)=>{(t.$config$.logGetters||t.$config$.logSetters)&&a(`Dimension cache cleared from setter "${n}"`,e[o])})(e,n[n.length-1])),n=[...n,J(e,s),0],((e,n,s,i=!1)=>{if(t.$config$.logSetters)try{n=n.slice(0,n.length-2),a(`Set ${T(e,n)}, value: ${_(n,s)}${i?" (restricted to worker)":""}`,e[o])}catch{}})(e,n,s),P(e,n,2)},s=(e,n,s,i,r,l,d,u)=>t.$config$.apply&&(d=t.$config$.apply({args:s,...Q(e,n)}),d!==R)?d:(u=n[w(n)-1],n=[...n,J(e,s)],i=i||(De.includes(u)?2:1),"setAttribute"===u&&$(e,s[0])?c(e,s[0],s[1]):st.includes(u)?(m.clear(),re.clear(),((e,n)=>{(t.$config$.logGetters||t.$config$.logCalls)&&a(`Dimension and DOM structure cache cleared from method call ${n}()`,e[o])})(e,u)):ye.includes(u)&&(i=2,m.clear(),oe(e,u)),d=P(e,n,i,r,void 0,l),((e,n,s,i)=>{if(t.$config$.logCalls)try{n=n.slice(0,n.length-1),a(`Call ${T(e,n)}(${s.map(e=>_(n,e)).join(", ")}), returned: ${_(n,i)}`,e[o])}catch{}})(e,n,s,d),d),we=(e,n,s)=>{((e,n,s)=>{if(t.$config$.logCalls)try{a(`Construct new ${n}(${s.map(e=>_([],e)).join(", ")})`,e[o])}catch{}})(e,n,s),P(e,[1,n,J(e,s)],1)},Q=(e,t)=>({name:t.join("."),continue:R,nodeName:e[i],constructor:F(e)}),xe=(e,t,n,o,i)=>{let r=t=>(t=n.get(e.origin),t||n.set(e.origin,t=[]),t),c=e=>r().findIndex(t=>t[Ce]===e),a,l,d={getItem(e){return a=c(e),a>-1?r()[a][Ee]:null},setItem(n,l){a=c(n),a>-1?r()[a][Ee]=l:r().push([n,l]),o?s(e,[t,"setItem"],[n,l],2):S("set",t,i)},removeItem(n){a=c(n),a>-1&&r().splice(a,1),o?s(e,[t,"removeItem"],[n],2):S("remove",t,i)},key(e){return l=r()[e],l?l[Ce]:null},clear(){r().length=0,o?s(e,[t,"clear"],Z,2):S("clear",t,i)},get length(){return r().length}};e[t]=d},Ce=0,Ee=1,Le=(e,t,n)=>{e[n]=v(class extends t{constructor(e,t,n,s){return super(e,t,n,s||{}),new Proxy(this,{get(e,t){return e[t]?e[t]:(e[t]||"string"!=typeof t||e[i][t]||(e[i][t]=u(e,[t])),e[i][t])},set(e,t,n){return e[i][t]=n,l(e,[t],n),ae(e,t),m.clear(),!0}})}setProperty(...e){this[i][e[0]]=e[1],s(this,["setProperty"],e,2),ae(this,e[0]),m.clear()}getPropertyValue(e){return this[e]}removeProperty(e){let t=this[i][e];return s(this,["removeProperty"],[e],2),ae(this,e),m.clear(),this[i][e]=void 0,t}},n)},Ne=(e,t)=>{e[t]=v(class{constructor(e){this.ownerNode=e}get cssRules(){const e=this.ownerNode;return new Proxy({},{get(t,n){const s=String(n);return"item"===s?t=>Me(e,t):"length"===s?D(e).length:isNaN(s)?t[n]:Me(e,s)}})}insertRule(e,t){const n=D(this.ownerNode);return t=void 0===t?0:t,t>=0&&t<=n.length&&(s(this.ownerNode,["sheet","insertRule"],[e,t],2),n.splice(t,0,0)),oe(this.ownerNode,"insertRule"),m.clear(),t}deleteRule(e){s(this.ownerNode,["sheet","deleteRule"],[e],2),D(this.ownerNode).splice(e,1),oe(this.ownerNode,"deleteRule"),m.clear()}get type(){return"text/css"}},t);const n={sheet:{get(){return new e[t](this)}}};f(e.HTMLStyleElement,n)},D=(e,t)=>(t=r(e,2),t||(t=u(e,["sheet","cssRules"]),c(e,2,t)),t),Me=(e,t,n)=>(n=D(e),0===n[t]&&(n[t]=u(e,["sheet","cssRules",parseInt(t,10)])),n[t]),Y=(e,n,s,o,i)=>{try{t.$config$.logScriptExecution&&a(`Execute script: ${s.substring(0,100).split(`
`).map(e=>e.trim()).join(" ").trim().substring(0,60)}...`,o),e.$currentScriptId$=n,he(e,s)}catch(e){console.error(s,e),i=String(e.stack||e)}return e.$currentScriptId$="",i},he=(e,n,s)=>{e.$runWindowLoadEvent$=1,n=`with(this){${n.replace(/\bthis\b/g,"(thi$(this)?window:this)").replace(/\/\/# so/g,"//Xso")}
;function thi$(t){return t===this}};${(t.$config$.globalFns||[]).filter(e=>/[a-zA-Z_$][0-9a-zA-Z_$]*/.test(e)).map(e=>`(typeof ${e}=='function'&&(this.${e}=${e}))`).join(";")};`+(s?`
//# sourceURL=`+s:""),e.$isSameOrigin$||(n=n.replace(/.postMessage\(/g,`.postMessage('${e.$winId$}',`)),new Function(n).call(e.$window$),e.$runWindowLoadEvent$=0},K=(e,t,n)=>{n=r(e,t),n&&setTimeout(()=>n.map(e=>e({type:t})))},M=(e,s,o,i,a,r)=>{for(i=e.$location$;!i.host;)if(e=n[e.$parentWinId$],i=e.$location$,e.$winId$===e.$parentWinId$)break;return a=new URL(s||"",i),o&&t.$config$.resolveUrl&&(r=t.$config$.resolveUrl(a,i,o),r)?r:a},b=(e,t,n)=>M(e,t,n)+"",ke=()=>`<script src="${ee("partytown.js?v=0.7.1")}"><\/script>`,Re=e=>class HTMLImageElement{constructor(){this.s="",this.l=[],this.e=[],this.style={}}get src(){return this.s}set src(n){t.$config$.logImageRequests&&a(`Image() request: ${b(e,n,null)}`,e.$winId$),this.s=n,fetch(b(e,n,null),{mode:"no-cors",credentials:"include",keepalive:!0}).then(e=>{e.ok||0===e.status?this.l.map(e=>e({type:"load"})):this.e.map(e=>e({type:"error"}))},()=>this.e.forEach(e=>e({type:"error"})))}addEventListener(e,t){"load"===e&&this.l.push(t),"error"===e&&this.e.push(t)}get onload(){return this.l[0]}set onload(e){this.l=[e]}get onerror(){return this.e[0]}set onerror(e){this.e=[e]}},de={addEventListener:{value(...e){const t=e[0],n=r(this,t)||[];n.push(e[1]),c(this,t,n)}},async:{get:C,set:C},defer:{get:C,set:C},onload:{get(){let e=r(this,"load");return e&&e[0]||null},set(e){c(this,"load",e?[e]:null)}},onerror:{get(){let e=r(this,"error");return e&&e[0]||null},set(e){c(this,"error",e?[e]:null)}},getAttribute:{value(e){return"src"===e?this.src:s(this,["getAttribute"],[e])}},setAttribute:{value(e,t){He.includes(e)?this[e]=t:s(this,["setAttribute"],[e,t])}}},He=d("src,type"),Ie=(e,n)=>{const s={innerHTML:ie,innerText:ie,src:{get(){return r(this,4)||""},set(e){const s=b(n,e,null),o=t.$config$;if(e=b(n,e,"script"),c(this,4,e),l(this,["src"],e),s!==e&&l(this,["dataset","ptsrc"],s),this.type&&o.loadScriptsOnMainThread){const t=o.loadScriptsOnMainThread.some(t=>t===e);t&&l(this,["type"],"text/javascript")}}},textContent:ie,type:{get(){return u(this,["type"])},set(e){se(e)||(c(this,5,e),l(this,["type"],e))}},...de};f(e,s)},ie={get(){return r(this,3)||""},set(e){c(this,3,e)}},se=e=>!e||"text/javascript"===e,$e=(e,a,c)=>{const m=t.$config$,u=v(class extends c{appendChild(e){return this.insertBefore(e,null)}get href(){}set href(e){}insertBefore(e,c){var d,f;const p=e[o]=this[o],u=e[h],g=e[i],v="SCRIPT"===g,b="IFRAME"===g;if(v){const t=r(e,3),n=r(e,5);if(t){if(se(n)){const n=e.id,s=n&&(null===(f=null===(d=m.loadScriptsOnMainThread)||void 0===d?void 0:d.includes)||void 0===f?void 0:f.call(d,n));if(s)l(e,["type"],"text/javascript");else{const n=Y(a,u,t,p,""),s=n?"pterror":"ptid",o=n||u;l(e,["type"],"text/partytown-x"),l(e,["dataset",s],o)}}l(e,["innerHTML"],t)}}if(s(this,["insertBefore"],[e,c],2),b){const t=r(e,0);if(t&&t.startsWith("javascript:")){const e=t.split("javascript:")[1];Y(a,u,e,p,"")}((e,t)=>{let a=0,o,s,i=()=>{n[e]&&n[e].$isInitialized$&&!n[e].$isLoading$?(o=r(t,1)?"error":"load",s=r(t,o),s&&s.map(e=>e({type:o}))):a++>2e3?(s=r(t,"error"),s&&s.map(e=>e({type:"error"}))):setTimeout(i,9)};i()})(u,e)}return v&&(z(!0),t.$postMessage$([7,p])),e}get nodeName(){return"#s"===this[i]?"#document-fragment":this[i]}get nodeType(){return 3}get ownerDocument(){return a.$document$}},"Node");U(u,d("childNodes,firstChild,isConnected,lastChild,nextSibling,parentElement,parentNode,previousSibling")),e.Node=u},We=d("AUDIO,CANVAS,VIDEO"),ve=d("Audio,MediaSource"),Ke=(e,t,n)=>{const i={body:{get:()=>t.$body$},cookie:{get(){return t.$isSameOrigin$?u(this,["cookie"]):(S("get","cookie",t),"")},set(e){t.$isSameOrigin$?l(this,["cookie"],e):S("set","cookie",t)}},createElement:{value(e){if(e=e.toUpperCase(),!tt.test(e))throw e+" not valid";const i="IFRAME"===e,a=this[o],n=(i?"f_":"")+j();s(this,["createElement"],[e],2,n);const t=g(a,n,e);if(i){const e=N({$winId$:n,$parentWinId$:a,$url$:"about:blank"},!0);e.$window$.fetch=fetch,l(t,["srcdoc"],ke())}else if("SCRIPT"===e){const e=r(t,5);se(e)&&l(t,["type"],"text/partytown")}return t}},createElementNS:{value(e,t){const n=j(),i=g(this[o],n,t,e);return s(this,["createElementNS"],[e,t],2,n),i}},createTextNode:{value(e){const n=this[o],t=j(),i=g(n,t,"#text");return s(this,["createTextNode"],[e],2,t),i}},createEvent:{value:e=>new Event(e)},currentScript:{get(){return t.$currentScriptId$?g(this[o],t.$currentScriptId$,"SCRIPT"):null}},defaultView:{get:()=>n?null:t.$window$},documentElement:{get:()=>t.$documentElement$},getElementsByTagName:{value(e){return e=e.toUpperCase(),"BODY"===e?[t.$body$]:"HEAD"===e?[t.$head$]:s(this,["getElementsByTagName"],[e])}},head:{get:()=>t.$head$},images:{get(){return u(this,["images"])}},implementation:{get(){return{hasFeature:()=>!0,createHTMLDocument:e=>{const n=j();s(this,["implementation","createHTMLDocument"],[e],1,{$winId$:n});const o=N({$winId$:n,$parentWinId$:n,$url$:t.$location$+"",$visibilityState$:"hidden"},!0,!0);return o.$document$}}}},location:{get:()=>t.$location$,set(e){t.$location$.href=e+""}},nodeType:{value:9},parentNode:{value:null},parentElement:{value:null},readyState:{value:"complete"},visibilityState:{get:()=>t.$visibilityState$||"visible"}};f(e,i),I(e,"compatMode,referrer,forms")},Oe=(e,t)=>{const n={parentElement:{get(){return this.parentNode}},parentNode:{get:()=>t.$documentElement$}};f(e,n)},Ye=(e,t)=>{const n={localName:{get(){return this[i].toLowerCase()}},namespaceURI:{get(){return this[Ae]||"http://www.w3.org/1999/xhtml"}},nodeType:{value:1},tagName:{get(){return this[i]}}};f(e,n),U(e,ue),I(e,"id"),Fe(t),Se(t,d("getClientRects,getBoundingClientRect"))},Ge=(e,t)=>{const n={};d("hash,host,hostname,href,origin,pathname,port,protocol,search").map(e=>{n[e]={get(){let n=r(this,4),s;return"string"!=typeof n&&(s=u(this,["href"]),c(this,4,s),n=new URL(s)[e]),M(t,n,null)[e]},set(n){let s;if("href"===e)if((e=>{try{return new URL(e),!0}catch{return!1}})(n))s=new URL(n);else{const e=t.$location$.href;s=M(t,e,null),s.href=new URL(n+"",s.href)}else s=M(t,this.href,null),s[e]=n;c(this,4,s.href),l(this,["href"],s.href)}}}),f(e,n)},Xe=(e)=>{const s={contentDocument:{get(){return V(this).$document$}},contentWindow:{get(){return V(this).$window$}},src:{get(){let e=r(this,0);return e&&e.startsWith("javascript:")?e:(e=V(this).$location$.href,e.startsWith("about:")?"":e)},set(e){if(e)if(e.startsWith("javascript:"))c(this,0,e);else if(!e.startsWith("about:")){let s=new XMLHttpRequest,o,n=V(this);n.$location$.href=e=b(n,e,"iframe"),n.$isLoading$=1,c(this,1,void 0),s.open("GET",e,!1),s.send(),o=s.status,o>199&&o<300?(l(this,["srcdoc"],`<base href="${e}">`+s.responseText.replace(/<script>/g,'<script type="text/partytown">').replace(/<script /g,'<script type="text/partytown" ').replace(/text\/javascript/g,"text/partytown")+ke()),z(!0),t.$postMessage$([7,n.$winId$])):(c(this,1,o),n.$isLoading$=0)}}},...de};f(e,s)},V=e=>{const t=e[h];return n[t]||N({$winId$:t,$parentWinId$:e[o],$url$:u(e,["src"])||"about:blank"},!0),n[t]},Ze=e=>{const t=(e,t)=>{const{a:n,b:o,c:i,d:a,e:r,f:c}=s(e,[t],Z);return new DOMMatrixReadOnly([n,o,i,a,r,c])},n={...e,getCTM:{value:function(){return t(this,"getCTM")}},getScreenCTM:{value:function(){return t(this,"getScreenCTM")}}};f(e,n)},Je=(m,p,_,O,x,C)=>{let D,R,N;const S=class{constructor(e,t,n,s,a){this[o]=e||m,this[h]=t||D||j(),this[y]=n||[],this[i]=s||R,this[Ae]=a||N,this[L]={},D=R=N=void 0}},W=v(class extends URL{assign(){a("location.assign(), noop")}reload(){a("location.reload(), noop")}replace(){a("location.replace(), noop")}},"Location"),M=new W(_),z=M.origin===t.$origin$||"about:blank"===M.origin,B=p===m,A={},V=()=>{let t=[],s,e;for(s in n)e=n[s],e.$parentWinId$!==m||e.$isTopWindow$||t.push(e);return t},T=v(class extends S{constructor(){super(m,m);let n=this,i,b,_=0,w=()=>{_||((()=>(t.$initWindowMedia$||(e.$bridgeToMedia$=[u,l,s,we,f,j,o,h,y],t.$importScripts$(ee("partytown-media.js?v=0.7.1")),t.$initWindowMedia$=e.$bridgeFromMedia$,delete e.$bridgeFromMedia$),t.$initWindowMedia$))()(S,P,A,n,ve),_=1)},a={},g=(e,t,n)=>{We.includes(e)&&w();const s=a[e]?a[e]:e.includes("-")?a.UNKNOWN:a.I;return D=t,R=e,N=n,new s};if(n.Window=T,n.name=name+`${k(m)} (${m})`,$e(n,A,S),(e=>{e.NodeList=v(pe,"NodeList")})(n),Le(n,S,"CSSStyleDeclaration"),((e,t,n)=>{e[n]=v(class extends t{now(){return performance.now()}},n)})(n,S,"Performance"),((e,t)=>{const n=new Map;e.customElements={define(o,i,a){n.set(o,i),t[o.toUpperCase()]=i;const r=[i.name,i.observedAttributes];s(e,["customElements","define"],[o,r,a])},get:t=>n.get(t)||s(e,["customElements","get"],[t]),whenDefined:t=>n.has(t)?Promise.resolve():s(e,["customElements","whenDefined"],[t]),upgrade:t=>s(e,["customElements","upgrade"],[t])}})(n,a),t.$interfaces$.map(([e,t,o,i,d])=>{const p=et[e]?K:"EventTarget"===t?P:"Object"===t?S:n[t],f=n[e]=v(12===i?class extends S{constructor(...t){super(),we(this,e,t)}}:n[e]||class extends p{},e);d&&(a[d]=f),o.map(([e,t,o])=>{e in f.prototype||e in p.prototype||("string"==typeof t?E(f,e,{get(){if(!$(this,e)){const o=this[h],i=[...this[y],e],s=n[t];s&&c(this,e,new s(m,o,i))}return r(this,e)},set(t){c(this,e,t)}}):5===t?ne(f,e,function(...t){return s(this,[e],t)}):t>0&&(void 0!==o?ne(f,e,o):E(f,e,{get(){return u(this,[e])},set(t){return l(this,[e],t)}})))})}),d("atob,btoa,crypto,indexedDB,setTimeout,setInterval,clearTimeout,clearInterval").map(t=>{delete T.prototype[t],t in n||(i=e[t],i!=null&&(n[t]="function"!=typeof i||i.toString().startsWith("class")?i:i.bind(e)))}),Object.getOwnPropertyNames(e).map(t=>{t in n||(n[t]=e[t])}),ve.map(e=>G(n,e,{get(){return w(),n[e]}})),"trustedTypes"in e&&(n.trustedTypes=e.trustedTypes),Ye(n.Element,n.HTMLElement),Ke(n.Document,A,C),(e=>{te(e,11),U(e,ue)})(n.DocumentFragment),Ge(n.HTMLAnchorElement,A),(e=>{f(e,{}),I(e,"elements")})(n.HTMLFormElement),Xe(n.HTMLIFrameElement),Ie(n.HTMLScriptElement,A),Ze(n.SVGGraphicsElement),Oe(n.HTMLHeadElement,A),Oe(n.HTMLBodyElement,A),((e,t)=>{const n={parentElement:{value:null},parentNode:{get:()=>t.$document$}};f(e,n)})(n.HTMLHtmlElement,A),Ne(n,"CSSStyleSheet"),te(n.Comment,8),te(n.DocumentType,10),Object.assign(A,{$winId$:m,$parentWinId$:p,$window$:new Proxy(n,{get:(e,n)=>{var s;if("string"!=typeof n||isNaN(n))return(null===(s=t.$config$.mainWindowAccessors)||void 0===s?void 0:s.includes(n))?u(this,[n]):e[n];{let e=V()[n];return e?e.$window$:void 0}},has:()=>!0}),$document$:g("#document",m+".d"),$documentElement$:g("HTML",m+".e"),$head$:g("HEAD",m+".h"),$body$:g("BODY",m+".b"),$location$:M,$visibilityState$:O,$isSameOrigin$:z,$isTopWindow$:B,$createNode$:g}),n.requestAnimationFrame=e=>setTimeout(()=>e(performance.now()),9),n.cancelAnimationFrame=e=>clearTimeout(e),n.requestIdleCallback=(e,t)=>(t=Date.now(),setTimeout(()=>e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))}),1)),n.cancelIdleCallback=e=>clearTimeout(e),xe(n,"localStorage",_e,z,A),xe(n,"sessionStorage",me,z,A),z||(n.indexeddb=void 0),x)b={},n.history={pushState(e){b=e},replaceState(e){b=e},get state(){return b},length:0},n.indexeddb=void 0;else{const e=n.history.pushState.bind(n.history),t=n.history.replaceState.bind(n.history);n.history.pushState=(t,n,s)=>{!1!==A.$propagateHistoryChange$&&e(t,n,s)},n.history.replaceState=(e,n,s)=>{!1!==A.$propagateHistoryChange$&&t(e,n,s)}}n.Worker=void 0}addEventListener(...e){"load"===e[0]?A.$runWindowLoadEvent$&&setTimeout(()=>e[1]({type:"load"})):s(this,["addEventListener"],e,2)}get body(){return A.$body$}get document(){return A.$document$}get documentElement(){return A.$documentElement$}fetch(e,t){return e="string"==typeof e||e instanceof URL?String(e):e.url,fetch(b(A,e,"fetch"),t)}get frames(){return A.$window$}get frameElement(){return B?null:g(p,m,"IFRAME")}get globalThis(){return A.$window$}get head(){return A.$head$}get length(){return V().length}get location(){return M}set location(e){M.href=e+""}get Image(){return Re(A)}get navigator(){return(e=>{let n,s={sendBeacon:(n,s)=>{if(t.$config$.logSendBeaconRequests)try{a(`sendBeacon: ${b(e,n,null)}${s?", data: "+JSON.stringify(s):""}`)}catch(e){console.error(e)}try{return fetch(b(e,n,null),{method:"POST",body:s,mode:"no-cors",keepalive:!0}),!0}catch(e){return console.error(e),!1}}};for(n in navigator)s[n]=navigator[n];return s})(A)}get origin(){return M.origin}set origin(e){}get parent(){for(let e in n)if(n[e].$winId$===p)return n[e].$window$;return A.$window$}postMessage(...e){n[e[0]]&&(w(H)>50&&H.splice(0,5),H.push({$winId$:e[0],$data$:JSON.stringify(e[1])}),e=e.slice(1)),s(this,["postMessage"],e,3)}get self(){return A.$window$}get top(){for(let e in n)if(n[e].$isTopWindow$)return n[e].$window$;return A.$window$}get window(){return A.$window$}get XMLHttpRequest(){const e=XMLHttpRequest,t=String(e),n=v(class extends e{open(...e){e[1]=b(A,e[1],"xhr"),super.open(...e)}set withCredentials(e){}toString(){return t}},F(e));return n.prototype.constructor.toString=()=>t,n}},"Window"),K=class extends S{constructor(e,t,n,s){return super(e,t,n,s),new Proxy(this,{get:(e,t)=>u(e,[t]),set(e,t,n){return l(e,[t],n),!0}})}},P=class extends S{};return le.map(e=>P.prototype[e]=function(...t){return s(this,[e],t,2)}),I(T,"devicePixelRatio"),Fe(T),Se(T,["getComputedStyle"]),new T,A},et={DOMStringMap:1,NamedNodeMap:1},N=({$winId$:e,$parentWinId$:s,$url$:o,$visibilityState$:i},r,c)=>{if(!n[e]){n[e]=Je(e,s,o,i,r,c);{const t=e===s?"top":"iframe";a(`Created ${t} window ${k(e)} environment`,e)}}return t.$postMessage$([7,e]),n[e]},A=[],Te=s=>{const r=s.data,i=r[0],o=r[1];if(t.$isInitialized$)if(7===i)(async e=>{let o=e.$winId$,d=e.$instanceId$,u=g(o,d,"SCRIPT"),h=e.$content$,s=e.$url$,m=e.$orgUrl$,i="",r=n[o],l,f=["text/jscript","text/javascript","text/x-javascript","application/javascript","application/x-javascript","text/ecmascript","text/x-ecmascript","application/ecmascript"];if(s)try{if(s=M(r,s,"script")+"",c(u,4,s),t.$config$.logScriptExecution&&a(`Execute script src: ${m}`,o),l=await fetch(s),l.ok){let e=l.headers.get("content-type"),t=f.some(t=>{var n,s,o;return null===(s=null===(n=e?.toLowerCase)||void 0===n?void 0:(o=n.call(e)).includes)||void 0===s?void 0:s.call(o,t)});t&&(h=await l.text(),r.$currentScriptId$=d,he(r,h,m||s)),K(u,"load")}else i=l.statusText,K(u,"error")}catch(e){console.error(e),i=String(e.stack||e),K(u,"error")}else h&&(i=Y(r,d,h,o,i));r.$currentScriptId$="",t.$postMessage$([6,o,d,i])})(o);else if(9===i)(({$winId$:e,$instanceId$:t,$refId$:n,$thisArg$:s,$args$:o})=>{if(x[n])try{x[n].apply(O(e,t,[],s),O(e,t,[],o))}catch(e){console.error(e)}})(o);else if(10===i)(({$winId$:e,$forward$:t,$args$:s})=>{try{let i=n[e].$window$,o=0,a=w(t);for(;o<a;o++)o+1<a?i=i[t[o]]:i[t[o]].apply(i,O(null,e,[],s))}catch(e){console.error(e)}})(o);else if(5===i)N(o);else if(8===i){if(1!==n[o].$isInitialized$){const e=o,t=n[e],s=t.$winId$===t.$parentWinId$?"top":"iframe";a(`Initialized ${s} window ${k(e)} environment ðŸŽ‰`,e)}n[o].$isInitialized$=1,n[o].$isLoading$=0}else if(14===i)n[o].$visibilityState$=r[2];else if(13===i){const t=o.$winId$,e=n[t];e.$location$.href=o.url,!function(e,t,n){const s=t.$window$.history;switch(n.type){case 0:t.$propagateHistoryChange$=!1;try{s.pushState(n.state,"",n.newUrl)}catch{}t.$propagateHistoryChange$=!0;break;case 1:t.$propagateHistoryChange$=!1;try{s.replaceState(n.state,"",n.newUrl)}catch{}t.$propagateHistoryChange$=!0}}(o.$winId$,e,o)}else 15===i&&((e,t,n,s,o)=>{const i=g(t,n);i&&"function"==typeof i[s]&&i[s].apply(i,o)})(...r);else 1===i?((n=>{const s=t.$config$=JSON.parse(n.$config$),o=n.$origin$;t.$importScripts$=importScripts.bind(e),t.$interfaces$=n.$interfaces$,t.$libPath$=n.$libPath$,t.$origin$=o,t.$postMessage$=postMessage.bind(e),t.$sharedDataBuffer$=n.$sharedDataBuffer$,_e.set(o,n.$localStorage$),me.set(o,n.$sessionStorage$),e.importScripts=void 0,delete e.postMessage,delete e.WorkerGlobalScope,d("resolveUrl,get,set,apply").map(e=>{s[e]&&(s[e]=new Function("return "+s[e])())})})(o),t.$postMessage$([2])):3===i?(t.$interfaces$=[...t.$interfaces$,...o],t.$isInitialized$=1,a("Initialized web worker"),t.$postMessage$([4]),A.length&&a(`Queued ready messages: ${A.length}`),[...A].map(Te),A.length=0):A.push(s)};e.onmessage=Te,postMessage([0])})(self)